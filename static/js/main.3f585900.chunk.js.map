{"version":3,"sources":["img/loading.svg","components/Common/Preloader/Preloader.module.css","components/Navbar/Navbar.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","redux/Reducers/App_reducer.js","redux/redux_store/redux_store.js","components/Common/SuspenseComponent/SuspenseComponent.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","App.js","index.js","redux/Reducers/Auth_reducer.js","components/Common/Preloader/Preloader.jsx","redux/Reducers/Profile_reducer.js","API/API.js","redux/Reducers/Messages_reducer.js","redux/Reducers/News_reducer.js","redux/Reducers/Users_reducer.js","components/Common/SuspenseComponent/SuspenseComponent.module.css","components/Header/Header.module.css"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Navbar","props","className","s","nav","to","item","initialState","initialized","appReducer","action","type","reducersPack","combineReducers","postData","profileReducer","messagesData","messagesReducer","newsData","newsReducer","usersData","usersReducer","authData","authReducer","appData","form","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleWare","SuspenseComponent","suspense","Header","header","isAuth","login","onClick","logoutThunk","HeaderContainer","this","React","Component","connect","userId","email","isFetching","setUserData","ProfileContainer","lazy","MessagesContainer","UsersContainer","NewsContainer","MusicContainer","SettingsContainer","Login","App","initializedThunk","fallback","path","render","Preloader","AppContainer","compose","withRouter","dispatch","promise","authThunk","Promise","all","MainApp","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","password","payLoad","a","authAPI","usersAuthFromServer","resultCode","data","id","loginThunk","rememberMe","loginFromServer","message","messages","length","stopSubmit","_error","logoutFromServer","posts","likeCount","photo","profile","setUserStatus","addPost","post","setUserProfile","toggleIsFetchingLoad","resetForm","myPost","reset","profileServerThunk","profileAPI","profileFromServer","setUserStatusThunk","getStatus","updateUserStatusThunk","updateStatus","photos","small","currentText","filter","el","postId","instance","axios","baseURL","withCredentials","userAPI","getUsers","currentPage","pageSize","usersFromServer","warn","buttonFollowPostFromServer","buttonUnFollowDeleteFromServer","delete","put","companionsData","name","dialogsData","addMessages","resetAddMessages","newsPosts","newsPost","addNews","users","totalCount","pageNeighbours","isFollowingProgress","changeCurrentPage","page","Follow","unFollow","toggleIsFetching","toggleIsFollowingProgress","getUsersThunk","apiMethods","bind","items","similarToggleThunkFollow","actionToggleFollow","followThunk","unFollowThunk","map","followed"],"mappings":"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","file":"static/js/main.3f585900.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.33fc8688.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__8Ao-W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n\treturn (\r\n\t\t<div className={s.nav}>\r\n\t\t<nav className='collection' >\r\n\t\t\t<NavLink to=\"/profile\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/messages\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tMessages\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/news\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/music\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tMusic\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/settings\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/users\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t</nav>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import {authThunk} from \"./Auth_reducer\";\n\nconst INITIALIZE = 'INITIALIZE';\n\nlet initialState = {\n\tinitialized: false,\n};\n\nlet appReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase INITIALIZE:\n\t\t\treturn {\n\t\t\t...state,\n\t\t\t\tinitialized: true,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n};\n\nconst initialized = () => ({type: INITIALIZE})\n\nexport const initializedThunk = () => (dispatch) => {\n\tlet promise = dispatch(authThunk())\n\n\tPromise.all([promise]).then(() => {dispatch(initialized())})\n}\n\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport messagesReducer from \"../Reducers/Messages_reducer\";\nimport profileReducer from \"../Reducers/Profile_reducer\";\nimport newsReducer from \"../Reducers/News_reducer\";\nimport usersReducer from \"../Reducers/Users_reducer\";\nimport authReducer from \"../Reducers/Auth_reducer\";\nimport thunkMiddleWare  from \"redux-thunk\";\nimport {reducer as formReducer} from \"redux-form\"\nimport appReducer from \"../Reducers/App_reducer\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\n\n\nlet reducersPack = combineReducers({\n\tpostData: profileReducer,\n\tmessagesData: messagesReducer,\n\tnewsData: newsReducer,\n\tusersData: usersReducer,\n\tauthData: authReducer,\n\tappData: appReducer,\n\tform: formReducer,\n});\n\n\nlet store = createStore(reducersPack, composeWithDevTools(applyMiddleware(thunkMiddleWare)));\n\nexport default store;\n\n","import React from \"react\";\nimport s from \"./SuspenseComponent.module.css\"\n\nexport const SuspenseComponent = () => {\n\treturn (\n\t\t<div className='col s9'>\n\t\t\t<div className={s.suspense}>\n\t\t\t\tLoading...\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<nav>\r\n\t\t\t\t{props.isAuth\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<div className=\"nav-wrapper\">\r\n\t\t\t\t\t\t<div className=\"col s12\">\r\n\t\t\t\t\t\t\t<NavLink to=\"/profile\" className=\"breadcrumb\"> {props.login}\r\n\t\t\t\t\t\t\t<button className='btn logout' onClick={props.logoutThunk}><i className=\"material-icons\"> exit_to_app </i></button>\r\n\t\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t: <NavLink className=\"waves-effect waves-light btn logout\" to={'/login'}><button className='btn logout'><i className=\"material-icons\"> input </i></button></NavLink>}\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\nimport Header from \"./Header\";\nimport { logoutThunk, setUserData} from \"../../redux/Reducers/Auth_reducer\";\nimport {connect} from \"react-redux\";\n\n\nclass HeaderContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\t// componentDidMount() {\n\t// \tthis.props.authThunk()\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<Header {...this.props}   />\n\t\t)\n\t}\n}\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tuserId: state.authData.userId,\n\t\temail: state.authData.email,\n\t\tlogin: state.authData.login,\n\t\tisFetching: state.authData.isFetching,\n\t\tisAuth: state.authData.isAuth,\n\t}\n}\n\nexport default connect(mapStateToProps, {setUserData, logoutThunk})(HeaderContainer)","import React, {Suspense} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedThunk} from \"./redux/Reducers/App_reducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport 'materialize-css';\nimport store from \"./redux/redux_store/redux_store\";\nimport {SuspenseComponent} from \"./components/Common/SuspenseComponent/SuspenseComponent\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst NewsContainer = React.lazy(() => import('./components/News/NewsContainer'))\nconst MusicContainer = React.lazy(() => import('./components/Music/MusicContainer'))\nconst SettingsContainer = React.lazy(() => import('./components/Settings/SettingsContainer'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializedThunk()\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader/>\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<HeaderContainer/>\n\t\t\t\t\t\t<div className='col s3'>\n\t\t\t\t\t\t\t<Navbar/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<Suspense fallback={<SuspenseComponent />}>\n\t\t\t\t\t\t<div className=\"col s9\">\n\t\t\t\t\t\t\t<Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/messages\" render={() => <MessagesContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/news\" render={() => <NewsContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/music\" render={() => <MusicContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/settings\" render={() => <SettingsContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/login\" render={() => <Login/>}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.appData.initialized,\n\tisAuth: state.authData.isAuth,\n})\n\nexport let AppContainer = compose(withRouter, connect(mapStateToProps, {initializedThunk}))(App)\n\nlet MainApp = (props) => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer/>\n\t\t\t</Provider>\n\t\t</BrowserRouter>\n\t)\n}\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport 'materialize-css/dist/css/materialize.css'\nimport MainApp from \"./App\";\n\n\n\tReactDOM.render(<MainApp/>, document.getElementById('root'));\n\n\nserviceWorker.register();\n","import {authAPI, userAPI} from \"../../API/API\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\n\nlet initialState = {\n\n\temail: null,\n\tuserId: null,\n\tlogin: null,\n\tpassword: null,\n\tisAuth: false,\n\tisFetching: false,\n};\n\nlet authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_USER_DATA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payLoad,\n\t\t\t}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n};\n\n\nexport const setUserData = (userId, email, login, isAuth) => ({\n\ttype: SET_USER_DATA,\n\tpayLoad: {email: email, userId: userId, login: login, isAuth: isAuth,}\n});\n\nexport const authThunk = () => async (dispatch) => {\n\tlet response = await authAPI.usersAuthFromServer()\n\tif (response.resultCode === 0) {\n\t\tlet {id, email, login} = response.data;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// !!! осторожно с порядком присваивания, оно должно совпадать с порядком что присутствует на сервере\n\t\tdispatch(setUserData(id, email, login, true));\n\t}\n};\n\nexport const loginThunk = (email, password, rememberMe) => async (dispatch) => {\n\tlet response = await authAPI.loginFromServer(email, password, rememberMe = false)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(authThunk())\n\t} else {\n\t\tlet message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\t\t\t// при невыполнении 'resultCode' должны высветить сообщения об ошибке, (текс сообщения об ошибке берем из сервера (messages))\n\t\tdispatch(stopSubmit('login', {_error: message}))  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  // ! Важная строка для понимания работы возврата функции 'dispatch'. formSubmit берем из библиотеки 'redux-form'\n\t}\n}\n\nexport const logoutThunk = () => async (dispatch) => {\n\tlet response = await authAPI.logoutFromServer()\n\tif (response.resultCode === 0) {\n\t\tdispatch(setUserData(null, null, null, false));\n\t}\n}\n\n\nexport default authReducer;","import React from \"react\";\nimport loading from \"../../../img/loading.svg\";\nimport s from \"./Preloader.module.css\";\n\nconst Preloader = (props) => {\n\treturn (\n\t\t<div className=\"progress\">\n\t\t\t<div className=\"indeterminate\"></div>\n\t\t</div>\n\t)\n}\n\nexport default Preloader;","import {profileAPI} from \"../../API/API\";\nimport {reset} from 'redux-form';\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst SET_USER_STATUS = 'SET_USER_STATUS';\nconst DELETE_POST = 'DELETE_POST';\n\nlet initialState = {\n\tposts: [\n\t\t{id: 0, message: 'Hi, how are you', likeCount: 2, photo: null},\n\t\t{id: 1, message: 'I am fine thanks', likeCount: 2, photo: null},\n\t\t{id: 2, message: 'It is greate', likeCount: 2, photo: null}\n\t],\n\tprofile: null,\n\tstatus: null,\n\tisFetching: false,\n};\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, {id: 4, message: action.post, likeCount: 1, photo: state.profile.photos.small}],\n\t\t\t\tcurrentText: null,\n\t\t\t}\n\t\tcase SET_USER_PROFILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile\n\t\t\t}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tcase SET_USER_STATUS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status,\n\t\t\t}\n\t\tcase DELETE_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(el => el.id !== action.postId)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\nexport const deletePost = (id) => ({type: DELETE_POST, postId: id})\n\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status: status})\nexport const addPost = (post) => ({type: ADD_POST, post});\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\nexport const toggleIsFetchingLoad = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\nexport const resetForm = (myPost) => (reset(myPost));\n\nexport const profileServerThunk = (userId) => async (dispatch) => {\n\tdispatch(toggleIsFetchingLoad(true));\n\tlet response = await profileAPI.profileFromServer(userId)\n\tdispatch(toggleIsFetchingLoad(false));\n\tdispatch(setUserProfile(response))\n}\n\nexport const setUserStatusThunk = (userId) => async (dispatch) => {\n\tlet response = await profileAPI.getStatus(userId)\n\tdispatch(setUserStatus(response.data));\n}\nexport const updateUserStatusThunk = (status) => async (dispatch) => {\n\tlet response = await profileAPI.updateStatus(status)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(setUserStatus(status));\n\t}\n}\n\nexport default profileReducer;","import * as axios from \"axios\";\n\n\nconst instance = axios.create({\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\twithCredentials: true,\n\theaders: {\n\t\t'API-KEY': 'dc838a0b-8b61-4e52-ba17-49724b1f4071',\n\t},\n});\n\nexport const userAPI = {\n\tgetUsers(currentPage, pageSize) {\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t},\n\tusersFromServer(userId) {\n\t\tconsole.warn('Obsolete method. Please use profileAPI object')\n\t\treturn profileAPI.profileFromServer(userId);\n\t},\n\tbuttonFollowPostFromServer(userId) {\n\t\treturn instance.post(`follow/${userId}`)\n\t},\n\tbuttonUnFollowDeleteFromServer(userId) {\n\t\treturn instance.delete(`follow/${userId}`)\n\t}\n}\n\nexport const profileAPI = {\n\tprofileFromServer(userId) {\n\t\treturn instance.get(`profile/${userId}`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t},\n\tgetStatus(userId) {\n\t\treturn instance.get(`profile/status/${userId}`)\n\t},\n\tupdateStatus(status) {\n\t\treturn instance.put('profile/status', {status: status})\n\t}\n}\n\nexport const authAPI = {\n\tusersAuthFromServer() {\n\t\treturn instance.get(`auth/me`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t},\n\tloginFromServer(email,password,rememberMe) {\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe})\n\t},\n\tlogoutFromServer() {\n\t\treturn instance.delete(`auth/login`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t}\n}\n","/* eslint-disable import/first */\nconst ADD_MESSAGES = 'ADD_MESSAGES';\nimport {reset} from 'redux-form';\n\nlet initialState = {\n\tcompanionsData: [\n\t\t{id: 1, name: \"Sergey\"},\n\t\t{id: 2, name: \"Andrey\"},\n\t\t{id: 3, name: \"Askar\"},\n\t\t{id: 4, name: \"Muslim\"},\n\t\t{id: 5, name: \"Petr\"},\n\t],\n\tdialogsData: [],\n};\n\nconst messagesReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_MESSAGES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdialogsData: [...state.dialogsData, {id: 5, message: action.message,}],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const addMessages = (message) => ({type: ADD_MESSAGES, message});\nexport const resetAddMessages = (message) => (reset(message))\nexport default messagesReducer;\n","const ADD_NEWS = \"ADD_NEWS\";\n// const TEXTAREA_CHANGES_NEWSPOSTS = \"TEXTAREA_CHANGES_NEWSPOSTS\";\n\nlet initialState = {\n\tnewsPosts: [{id: 2, newsPost: \"\"}],\n\t// currentNewsData:'',\n};\n\nconst newsReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_NEWS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewsPosts: [...state.newsPosts, {id: 3, newsPost: action.newsPosts}],\n\t\t\t\t// currentNewsData: '',\n\t\t\t}\n\t\t// case TEXTAREA_CHANGES_NEWSPOSTS:\n\t\t// \treturn {\n\t\t// \t\t...state,\n\t\t// \t\tcurrentNewsData: action.text,\n\t\t// \t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const addNews = (newsPosts) => ({type: ADD_NEWS, newsPosts});\n// export const textareaChangesNewsPost = (text) => ({type: TEXTAREA_CHANGES_NEWSPOSTS, text: text});\n\nexport default newsReducer;","import {userAPI} from \"../../API/API\";\n\nconst SET_USERS = \"SET_USERS\";\nconst FOLLOW = \"FOLLOW\";\nconst UN_FOLLOW = 'UN_FOLLOW';\nconst CHANGE_CURRENT_PAGE = 'CHANGE_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n\tusers: [],\n\tpageSize: 10,\n\ttotalCount: null,\n\tpageNeighbours: 5,\n\tcurrentPage: 1,\n\tisFetching: false,\n\tisFollowingProgress: [],\n}\n\nlet usersReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_USERS:\n\t\t\treturn {...state, users: action.users,}\n\t\tcase FOLLOW:\n\t\t\treturn {\n\t\t\t\t...state, users: state.users.map((el) => {\n\t\t\t\t\tif (el.id === action.userId) {\n\t\t\t\t\t\treturn {...el, followed: true}\n\t\t\t\t\t}\n\t\t\t\t\treturn el\n\t\t\t\t})\n\t\t\t}\n\t\tcase UN_FOLLOW:\n\t\t\treturn {\n\t\t\t\t...state, users: state.users.map((el) => {\n\t\t\t\t\tif (el.id === action.userId) {\n\t\t\t\t\t\treturn {...el, followed: false}\n\t\t\t\t\t}\n\t\t\t\t\treturn el\n\t\t\t\t})\n\t\t\t}\n\t\tcase CHANGE_CURRENT_PAGE:\n\t\t\treturn {...state, currentPage: action.currentPage,}\n\t\tcase SET_TOTAL_USERS_COUNT:\n\t\t\treturn {...state, totalCount: action.totalCount,}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {...state, isFetching: action.isFetching,}\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFollowingProgress: action.isFollowingProgress\n\t\t\t\t\t? [...state.isFollowingProgress, action.userId]\n\t\t\t\t\t: state.isFollowingProgress.filter(id => id !== action.userId)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n\nexport const changeCurrentPage = (page) => ({type: CHANGE_CURRENT_PAGE, currentPage: page})\t// call-back функция, которая возвращает объект, в параметрах которого мы обозначаем те данные которые мы хотим изменить и передать в свойства значения.\nexport const setUsers = (users) => ({type: SET_USERS, users: users});\nexport const Follow = (userId) => ({type: FOLLOW, userId: userId});\nexport const unFollow = (userId) => ({type: UN_FOLLOW, userId: userId});\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount: totalCount});\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\nexport const toggleIsFollowingProgress = (isFollowingProgress, userId) => ({\n\ttype: TOGGLE_IS_FOLLOWING_PROGRESS,\n\tisFollowingProgress: isFollowingProgress,\n\tuserId: userId\n})\n\n\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\n\tlet apiMethods = userAPI.getUsers.bind(userAPI)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// можно и без bind, но для предотвращения возникновения ошибок привязываем наш 'action' к данному запросу из сервера\n\tdispatch(toggleIsFetching(true))\n\tdispatch(changeCurrentPage(currentPage))\n\tlet response = await apiMethods(currentPage, pageSize)\n\tdispatch(toggleIsFetching(false))\n\tdispatch(setUsers(response.items))\n\tdispatch(setTotalUsersCount(response.totalCount))\n}\n\nlet similarToggleThunkFollow = async (dispatch,userId,apiMethods,actionToggleFollow) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// рефакторинг следующих двух thunks\n\tdispatch(toggleIsFollowingProgress(true, userId));\n\tlet response = await apiMethods(userId)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(actionToggleFollow(userId));\n\t}\n\tdispatch(toggleIsFollowingProgress(false, userId));\n}\n\nexport const followThunk = (userId) => async (dispatch) => {\n\tawait similarToggleThunkFollow(dispatch, userId, userAPI.buttonFollowPostFromServer.bind(userAPI)\t, Follow)\t\t\t\t\t\t// можно и без bind, но для предотвращения возникновения ошибок привязываем наш 'action' к данному запросу из сервера\n}\n\nexport const unFollowThunk = (userId) => async (dispatch) => {\n\tawait similarToggleThunkFollow(dispatch, userId, userAPI.buttonUnFollowDeleteFromServer.bind(userAPI), unFollow)\n}\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suspense\":\"SuspenseComponent_suspense__2XO5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\"};"],"sourceRoot":""}