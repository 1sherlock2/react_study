{"version":3,"sources":["img/loading.svg","components/Common/Preloader/Preloader.module.css","components/Header/Header.module.css","serviceWorker.js","components/Navbar/Navbar.jsx","redux/Reducers/App_reducer.js","redux/redux_store/redux_store.js","components/Common/SuspenseComponent/SuspenseComponent.js","components/Header/Header.jsx","components/Header/HeaderContainer.js","App.js","index.js","redux/Reducers/Auth_reducer.js","components/Navbar/Navbar.module.css","redux/Reducers/Profile_reducer.js","components/Common/Preloader/Preloader.jsx","API/API.js","redux/Reducers/Messages_reducer.js","redux/Reducers/News_reducer.js","redux/Reducers/Users_reducer.js","components/Common/SuspenseComponent/SuspenseComponent.module.css"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Navbar","props","className","style","height","to","s","item","initialState","initialized","appReducer","action","type","reducersPack","combineReducers","postData","profileReducer","messagesData","messagesReducer","newsData","newsReducer","usersData","usersReducer","authData","authReducer","appData","form","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleWare","SuspenseComponent","suspense","Header","isAuth","background","login","marginLeft","onClick","logoutThunk","lineHeight","HeaderContainer","this","React","Component","connect","userId","email","isFetching","setUserData","ProfileContainer","lazy","MessagesContainer","UsersContainer","NewsContainer","MusicContainer","SettingsContainer","Login","App","initializedThunk","textAlign","position","top","fallback","path","render","Preloader","AppContainer","compose","withRouter","dispatch","promise","authThunk","Promise","all","MainApp","ReactDOM","document","getElementById","URL","process","href","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","password","payLoad","a","authAPI","usersAuthFromServer","resultCode","data","id","loginThunk","rememberMe","loginFromServer","message","messages","length","stopSubmit","_error","logoutFromServer","posts","likeCount","photo","profile","setUserProfile","profileId","setUserStatus","addPost","post","toggleIsFetchingLoad","resetForm","myPost","reset","profileServerThunk","profileAPI","profileFromServer","setUserStatusThunk","getStatus","updateUserStatusThunk","updateStatus","changeImageThunk","file","changeImageFromServer","image","photos","saveProfileInformationThunk","formData","getState","changeProfileInformationFromServer","reject","small","currentText","filter","el","postId","instance","axios","baseURL","withCredentials","userAPI","getUsers","currentPage","pageSize","usersFromServer","warn","buttonFollowPostFromServer","buttonUnFollowDeleteFromServer","delete","put","FormData","append","companionsData","name","dialogsData","addMessages","resetAddMessages","newsPosts","newsPost","addNews","users","totalCount","pageNeighbours","isFollowingProgress","changeCurrentPage","page","Follow","unFollow","toggleIsFetching","toggleIsFollowingProgress","getUsersThunk","apiMethods","bind","items","similarToggleThunkFollow","actionToggleFollow","followThunk","unFollowThunk","map","followed"],"mappings":"iLAAAA,EAAOC,QAAU,IAA0B,qC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,oBCA9BD,EAAOC,QAAU,CAAC,OAAS,yB,6ECWrBC,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAsCN,SAASC,EAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACTK,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,gHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,WAO5BW,OAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,M,oFCvDlDC,EArCA,SAACC,GACf,OACC,yBAAKC,UAAU,aAAaC,MAAO,CAACC,OAAQ,SAC3C,kBAAC,IAAD,CAASC,GAAG,WAAWH,UAAU,mBAChC,yBAAKA,UAAWI,IAAEC,MAAlB,YAID,kBAAC,IAAD,CAASF,GAAG,YAAYH,UAAU,mBACjC,yBAAKA,UAAWI,IAAEC,MAAlB,aAID,kBAAC,IAAD,CAASF,GAAG,QAAQH,UAAU,mBAC7B,yBAAKA,UAAWI,IAAEC,MAAlB,SAID,kBAAC,IAAD,CAASF,GAAG,SAASH,UAAU,mBAC9B,yBAAKA,UAAWI,IAAEC,MAAlB,UAID,kBAAC,IAAD,CAASF,GAAG,YAAYH,UAAU,mBACjC,yBAAKA,UAAWI,IAAEC,MAAlB,aAID,kBAAC,IAAD,CAASF,GAAG,SAASH,UAAU,mBAC9B,yBAAKA,UAAWI,IAAEC,MAAlB,Y,sCC7BAC,EAAe,CAClBC,aAAa,GAuBCC,EApBE,WAAmC,IAAlClB,EAAiC,uDAAzBgB,EAAcG,EAAW,uCAClD,OAAQA,EAAOC,MACd,IARiB,aAShB,OAAO,2BACJpB,GADH,IAECiB,aAAa,IAEf,QACC,OAAOjB,I,yECJNqB,EAAeC,0BAAgB,CAClCC,SAAUC,IACVC,aAAcC,IACdC,SAAUC,IACVC,UAAWC,IACXC,SAAUC,IACVC,QAASf,EACTgB,KAAMC,MAMQC,EAFHC,sBAAYhB,EAAciB,8BAAoBC,0BAAgBC,O,iBCpB7DC,EAAoB,WAChC,OACC,yBAAK/B,UAAU,UACd,yBAAKA,UAAWI,IAAE4B,UAAlB,gBCwBYC,G,OA1BA,SAAClC,GACf,OACC,gCACC,6BACEA,EAAMmC,OAEN,yBAAKlC,UAAU,MAAMC,MAAO,CAACkC,WAAW,YACvC,yBAAKnC,UAAU,UACd,kBAAC,IAAD,CAASG,GAAG,WAAWH,UAAU,cAAjC,IAAgDD,EAAMqC,MAAtD,MAED,yBAAKpC,UAAU,UACd,4BAAQA,UAAU,aAAaC,MAAO,CAACoC,WAAY,OAAQC,QAASvC,EAAMwC,aAAa,uBACtFvC,UAAU,iBAAiBC,MAAO,CAACuC,WAAY,SADuC,oBAKzF,yBAAKxC,UAAU,UAAUC,MAAO,CAACkC,WAAW,YAC3C,kBAAC,IAAD,CAASnC,UAAU,aAAaG,GAAI,SAAUF,MAAO,CAACoC,WAAY,QACjE,4BAAQrC,UAAU,OAAM,uBAAGA,UAAU,iBAAiBC,MAAO,CAACuC,WAAY,SAAlD,kBChBzBC,E,kDACL,WAAY1C,GAAQ,uCACbA,G,qDAON,OACC,kBAAC,EAAW2C,KAAK3C,W,GAVU4C,IAAMC,WAyBrBC,eAVO,SAACvD,GACtB,MAAO,CACNwD,OAAQxD,EAAM+B,SAASyB,OACvBC,MAAOzD,EAAM+B,SAAS0B,MACtBX,MAAO9C,EAAM+B,SAASe,MACtBY,WAAY1D,EAAM+B,SAAS2B,WAC3Bd,OAAQ5C,EAAM+B,SAASa,UAIe,CAACe,gBAAaV,iBAAvCM,CAAqDJ,GCjB9DS,EAAmBP,IAAMQ,MAAK,kBAAM,uDACpCC,EAAoBT,IAAMQ,MAAK,kBAAM,uDACrCE,EAAiBV,IAAMQ,MAAK,kBAAM,iCAClCG,EAAgBX,IAAMQ,MAAK,kBAAM,uDACjCI,EAAiBZ,IAAMQ,MAAK,kBAAM,iCAClCK,EAAoBb,IAAMQ,MAAK,kBAAM,kCACrCM,EAAQd,IAAMQ,MAAK,kBAAM,uDAEzBO,E,kLAEJhB,KAAK3C,MAAM4D,qB,+BAIX,OAAKjB,KAAK3C,MAAMQ,YAId,yBAAKP,UAAU,OACd,yBAAKA,UAAU,WACd,kBAAC,EAAD,OAED,yBAAKA,UAAU,SAASC,MAAO,CAAC2D,UAAW,SAASC,SAAU,SAAUC,IAAK,QAC5E,kBAAC,EAAD,OAED,yBAAK9D,UAAU,WACd,kBAAC,WAAD,CAAU+D,SAAU,kBAAC,EAAD,OACnB,kBAAC,IAAD,CAAOC,KAAK,oBAAoBC,OAAQ,kBAAM,kBAACf,EAAD,SAC9C,kBAAC,IAAD,CAAOc,KAAK,YAAYC,OAAQ,kBAAM,kBAACb,EAAD,SACtC,kBAAC,IAAD,CAAOY,KAAK,SAASC,OAAQ,kBAAM,kBAACZ,EAAD,SACnC,kBAAC,IAAD,CAAOW,KAAK,QAAQC,OAAQ,kBAAM,kBAACX,EAAD,SAClC,kBAAC,IAAD,CAAOU,KAAK,SAASC,OAAQ,kBAAM,kBAACV,EAAD,SACnC,kBAAC,IAAD,CAAOS,KAAK,YAAYC,OAAQ,kBAAM,kBAACT,EAAD,SACtC,kBAAC,IAAD,CAAOQ,KAAK,SAASC,OAAQ,kBAAM,kBAACR,EAAD,YAlBhC,kBAACS,EAAA,EAAD,U,GAPQvB,IAAMC,WAuCbuB,EAAeC,kBAAQC,IAAYxB,aALtB,SAACvD,GAAD,MAAY,CACnCiB,YAAajB,EAAMiC,QAAQhB,YAC3B2B,OAAQ5C,EAAM+B,SAASa,UAG+C,CAACyB,iBLvCxC,kBAAM,SAACW,GACtC,IAAIC,EAAUD,EAASE,eAEvBC,QAAQC,IAAI,CAACH,IAAUvF,MAAK,WAAOsF,EALT,CAAC5D,KAlBT,sBK2DO0D,CAAkEV,GAW5FpF,OAAOoD,MAAQA,EAEAiD,MAXD,SAAC5E,GACd,OACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAU2B,MAAOA,GAChB,kBAACyC,EAAD,SC3DHS,IAASX,OAAO,kBAAC,EAAD,MAAYY,SAASC,eAAe,SRc9C,SAAkBlG,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIkG,IAAIC,eAAwB1G,OAAOC,SAAS0G,MACpDC,SAAW5G,OAAOC,SAAS2G,OAIvC,OAGF5G,OAAO6G,iBAAiB,QAAQ,WAC9B,IAAMxG,EAAK,UAAMqG,eAAN,sBAEP5G,IAgEV,SAAiCO,EAAOC,GAEtCwG,MAAMzG,GACHK,MAAK,SAAAqG,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYI,QAAQ,cAG5C7G,UAAUC,cAAc6G,MAAM3G,MAAK,SAAAC,GACjCA,EAAa2G,aAAa5G,MAAK,WAC7BV,OAAOC,SAASsH,eAKpBnH,EAAgBC,EAAOC,MAG1BgB,OAAM,WACLJ,QAAQC,IACN,oEArFAqG,CAAwBnH,EAAOC,GAI/BC,UAAUC,cAAc6G,MAAM3G,MAAK,WACjCQ,QAAQC,IACN,gHAMJf,EAAgBC,EAAOC,OQxC/BE,I,yNCJIwB,EAAe,CAElByC,MAAO,KACPD,OAAQ,KACRV,MAAO,KACP2D,SAAU,KACV7D,QAAQ,EACRc,YAAY,GAqBAC,EAAc,SAACH,EAAQC,EAAOX,EAAOF,GAAvB,MAAmC,CAC7DxB,KAhCqB,gBAiCrBsF,QAAS,CAACjD,MAAOA,EAAOD,OAAQA,EAAQV,MAAOA,EAAOF,OAAQA,KAGlDsC,EAAY,yDAAM,WAAOF,GAAP,uBAAA2B,EAAA,sEACTC,IAAQC,sBADC,OAEF,KADxBd,EAD0B,QAEjBe,aAAmB,EACNf,EAASgB,KAA7BC,EADyB,EACzBA,GAAIvD,EADqB,EACrBA,MAAOX,EADc,EACdA,MAChBkC,EAASrB,EAAYqD,EAAIvD,EAAOX,GAAO,KAJV,2CAAN,uDAQZmE,EAAa,SAACxD,EAAOgD,EAAUS,GAAlB,8CAAiC,WAAOlC,GAAP,iBAAA2B,EAAA,sEACrCC,IAAQO,gBAAgB1D,EAAOgD,GAAuB,GADjB,OAEzB,KAD7BV,EADsD,QAE7CgB,KAAKD,WACjB9B,EAASE,MAELkC,EAAUrB,EAASsB,SAASC,OAAS,EAAIvB,EAASsB,SAAS,GAAK,aACpErC,EAASuC,YAAW,QAAS,CAACC,OAAQJ,MANmB,2CAAjC,uDAUbnE,EAAc,yDAAM,WAAO+B,GAAP,SAAA2B,EAAA,sEACXC,IAAQa,mBADG,OAEJ,IAFI,OAEnBX,YACZ9B,EAASrB,EAAY,KAAM,KAAM,MAAM,IAHR,2CAAN,uDAQZ3B,IAjDG,WAAmC,IAAlChC,EAAiC,uDAAzBgB,EAAcG,EAAW,uCACnD,OAAQA,EAAOC,MACd,IAfoB,gBAgBnB,OAAO,2BACHpB,GACAmB,EAAOuF,SAEZ,IAnByB,qBAoBxB,OAAO,2BACH1G,GADJ,IAEC0D,WAAYvC,EAAOuC,aAErB,QACC,OAAO1D,K,mBC5BVpB,EAAOC,QAAU,CAAC,IAAM,sB,2YCSpBmC,EAAe,CAClB0G,MAAO,CACN,CAACV,GAAI,EAAGI,QAAS,kBAAmBO,UAAW,EAAGC,MAAO,MACzD,CAACZ,GAAI,EAAGI,QAAS,mBAAoBO,UAAW,EAAGC,MAAO,MAC1D,CAACZ,GAAI,EAAGI,QAAS,eAAgBO,UAAW,EAAGC,MAAO,OAEvDC,QAAS,KACT1B,OAAQ,KACRzC,YAAY,GAwCAoE,EAAiB,SAACC,GAAD,MAAgB,CAAC3G,KArDtB,mBAqD8CyG,QAASE,IACnEC,EAAgB,SAAC7B,GAAD,MAAa,CAAC/E,KApDnB,kBAoD0C+E,OAAQA,IAC7D8B,EAAU,SAACC,GAAD,MAAW,CAAC9G,KAxDlB,WAwDkC8G,SAEtCC,EAAuB,SAACzE,GAAD,MAAiB,CAACtC,KAxD3B,qBAwDqDsC,WAAYA,IAC/E0E,EAAY,SAACC,GAAD,OAAaC,YAAMD,IAI/BE,EAAqB,SAAC/E,GAAD,8CAAY,WAAOwB,GAAP,eAAA2B,EAAA,6DAC7C3B,EAASmD,GAAqB,IADe,SAExBK,IAAWC,kBAAkBjF,GAFL,OAEzCuC,EAFyC,OAG7Cf,EAASmD,GAAqB,IAC9BnD,EAAS8C,EAAe/B,EAASgB,OAJY,2CAAZ,uDAOrB2B,EAAqB,SAAClF,GAAD,8CAAY,WAAOwB,GAAP,eAAA2B,EAAA,sEACxB6B,IAAWG,UAAUnF,GADG,OACzCuC,EADyC,OAE7Cf,EAASgD,EAAcjC,EAASgB,OAFa,2CAAZ,uDAIrB6B,EAAwB,SAACzC,GAAD,8CAAY,WAAOnB,GAAP,SAAA2B,EAAA,sEAC3B6B,IAAWK,aAAa1C,GADG,OAEf,IAFe,OAEnCY,KAAKD,YACjB9B,EAASgD,EAAc7B,IAHwB,2CAAZ,uDAOxB2C,EAAmB,SAACC,GAAD,8CAAU,WAAO/D,GAAP,eAAA2B,EAAA,sEACpB6B,IAAWQ,sBAAsBD,GADb,OAER,KAD7BhD,EADqC,QAE5BgB,KAAKD,YACjB9B,EAxBqC,CAAC5D,KA7DnB,eA6DuC6H,MAwBrClD,EAASgB,KAAKA,KAAKmC,SAHA,2CAAV,uDAMnBC,EAA8B,SAACC,GAAD,8CAAc,WAAOpE,EAAUqE,GAAjB,iBAAA1C,EAAA,6DAClDnD,EAAS6F,IAAWtH,SAASyB,OADqB,SAEjCgF,IAAWc,mCAAmCF,GAFb,UAIvB,KAF3BrD,EAFkD,QAI3CgB,KAAKD,WAJsC,gBAKvD9B,EAASuD,EAAmB/E,IAL2B,8BAOvDwB,EAASuC,YAAW,cAAe,CAACC,OAAQzB,EAASgB,KAAKM,SAAS,MAPZ,kBAQhDlC,QAAQoE,OAAQxD,EAASgB,KAAKM,SAAS,KARS,4CAAd,yDAW5B7F,IAlFQ,WAAmC,IAAlCxB,EAAiC,uDAAzBgB,EAAcG,EAAW,uCACxD,OAAQA,EAAOC,MACd,IAlBe,WAmBd,OAAO,2BACHpB,GADJ,IAEC0H,MAAM,GAAD,mBAAM1H,EAAM0H,OAAZ,CAAmB,CAACV,GAAI,EAAGI,QAASjG,EAAO+G,KAAMP,UAAW,EAAGC,MAAO5H,EAAM6H,QAAQqB,OAAOM,SAChGC,YAAa,OAEf,IAvBuB,mBAwBtB,OAAO,2BACHzJ,GADJ,IAEC6H,QAAS1G,EAAO0G,UAElB,IA3ByB,qBA4BxB,OAAO,2BACH7H,GADJ,IAEC0D,WAAYvC,EAAOuC,aAErB,IA/BsB,kBAgCrB,OAAO,2BACH1D,GADJ,IAECmG,OAAQhF,EAAOgF,SAEjB,IAnCkB,cAoCjB,OAAO,2BACHnG,GADJ,IAEC0H,MAAO1H,EAAM0H,MAAMgC,QAAO,SAAAC,GAAE,OAAIA,EAAG3C,KAAO7F,EAAOyI,YAEnD,IA7CmB,eA8ClB,OAAO,2BACH5J,GADJ,IAEC6H,QAAQ,2BAAK7H,EAAM6H,SAAZ,IAAqBqB,OAAQ/H,EAAO8H,UAE7C,QACC,OAAOjJ,K,gCCtDV,kCAYe4E,IARG,SAACnE,GAClB,OACC,yBAAKC,UAAU,YACd,yBAAKA,UAAU,qB,+BCPlB,kHAGMmJ,EAAWC,SAAa,CAC7BC,QAAS,gDACTC,iBAAiB,EACjB/D,QAAS,CACR,UAAW,0CAIAgE,EAAU,CACtBC,SADsB,SACbC,EAAaC,GACrB,OAAOP,EAAS3D,IAAT,qBAA2BiE,EAA3B,kBAAgDC,IAAY1K,MAAK,SAAAqG,GACvE,OAAOA,EAASgB,SAGlBsD,gBANsB,SAMN7G,GAEf,OADAtD,QAAQoK,KAAK,iDACN9B,EAAWC,kBAAkBjF,IAErC+G,2BAVsB,SAUK/G,GAC1B,OAAOqG,EAAS3B,KAAT,iBAAwB1E,KAEhCgH,+BAbsB,SAaShH,GAC9B,OAAOqG,EAASY,OAAT,iBAA0BjH,MAItBgF,EAAa,CACzBC,kBADyB,SACPjF,GACjB,OAAOqG,EAAS3D,IAAT,kBAAwB1C,KAEhCmF,UAJyB,SAIfnF,GACT,OAAOqG,EAAS3D,IAAT,yBAA+B1C,KAEvCqF,aAPyB,SAOZ1C,GACZ,OAAO0D,EAASa,IAAI,iBAAkB,CAACvE,OAAQA,KAEhD6C,sBAVyB,SAUHD,GACrB,IAAIK,EAAW,IAAIuB,SAEnB,OADAvB,EAASwB,OAAO,QAAS7B,GAClBc,EAASa,IAAI,gBAAiBtB,EAAU,CAACnD,QAAS,CAAC,eAAgB,0BAE3EqD,mCAfyB,SAeUF,GAClC,OAAOS,EAASa,IAAI,UAAWtB,KAIpBxC,EAAU,CACtBC,oBADsB,WAErB,OAAOgD,EAAS3D,IAAT,WAAwBxG,MAAK,SAAAqG,GACnC,OAAOA,EAASgB,SAGlBI,gBANsB,SAMN1D,EAAMgD,EAASS,GAC9B,OAAO2C,EAAS3B,KAAT,aAA4B,CAACzE,QAAOgD,WAAUS,gBAEtDO,iBATsB,WAUrB,OAAOoC,EAASY,OAAT,cAA8B/K,MAAK,SAAAqG,GACzC,OAAOA,EAASgB,W,+HCxDf/F,EAAe,CAClB6J,eAAgB,CACf,CAAC7D,GAAI,EAAG8D,KAAM,UACd,CAAC9D,GAAI,EAAG8D,KAAM,UACd,CAAC9D,GAAI,EAAG8D,KAAM,SACd,CAAC9D,GAAI,EAAG8D,KAAM,UACd,CAAC9D,GAAI,EAAG8D,KAAM,SAEfC,YAAa,IAeDC,EAAc,SAAC5D,GAAD,MAAc,CAAChG,KA1BrB,eA0ByCgG,YACjD6D,EAAmB,SAAC7D,GAAD,OAAckB,YAAMlB,IACrC1F,IAdS,WAAmC,IAAlC1B,EAAiC,uDAAzBgB,EAAcG,EAAW,uCACzD,OAAQA,EAAOC,MACd,IAhBmB,eAiBlB,OAAO,2BACHpB,GADJ,IAEC+K,YAAY,GAAD,mBAAM/K,EAAM+K,aAAZ,CAAyB,CAAC/D,GAAI,EAAGI,QAASjG,EAAOiG,aAE9D,QACC,OAAOpH,K,qFCpBNgB,EAAe,CAClBkK,UAAW,CAAC,CAAClE,GAAI,EAAGmE,SAAU,MAsBlBC,EAAU,SAACF,GAAD,MAAgB,CAAC9J,KA1BvB,WA0BuC8J,cAGzCtJ,IArBK,WAAmC,IAAlC5B,EAAiC,uDAAzBgB,EAAcG,EAAW,uCACrD,OAAQA,EAAOC,MACd,IAVe,WAWd,OAAO,2BACHpB,GADJ,IAECkL,UAAU,GAAD,mBAAMlL,EAAMkL,WAAZ,CAAuB,CAAClE,GAAI,EAAGmE,SAAUhK,EAAO+J,eAQ3D,QACC,OAAOlL,K,2PCXNgB,EAAe,CAClBqK,MAAO,GACPjB,SAAU,GACVkB,WAAY,KACZC,eAAgB,EAChBpB,YAAa,EACbzG,YAAY,EACZ8H,oBAAqB,IA4CTC,EAAoB,SAACC,GAAD,MAAW,CAACtK,KAzDjB,sBAyD4C+I,YAAauB,IAExEC,EAAS,SAACnI,GAAD,MAAa,CAACpC,KA7DrB,SA6DmCoC,OAAQA,IAC7CoI,EAAW,SAACpI,GAAD,MAAa,CAACpC,KA7DpB,YA6DqCoC,OAAQA,IAElDqI,EAAmB,SAACnI,GAAD,MAAiB,CAACtC,KA5DvB,qBA4DiDsC,WAAYA,IAC3EoI,EAA4B,SAACN,EAAqBhI,GAAtB,MAAkC,CAC1EpC,KA7DoC,+BA8DpCoK,oBAAqBA,EACrBhI,OAAQA,IAIIuI,EAAgB,SAAC5B,EAAaC,GAAd,8CAA2B,WAAOpF,GAAP,iBAAA2B,EAAA,6DACnDqF,EAAa/B,IAAQC,SAAS+B,KAAKhC,KACvCjF,EAAS6G,GAAiB,IAC1B7G,EAASyG,EAAkBtB,IAH4B,SAIlC6B,EAAW7B,EAAaC,GAJU,OAInDrE,EAJmD,OAKvDf,EAAS6G,GAAiB,IAC1B7G,EAlBmC,CAAC5D,KA7DnB,YA6DoCiK,MAkBnCtF,EAASmG,QAC3BlH,EAhBkD,CAAC5D,KA5DtB,wBA4DmDkK,WAgBpDvF,EAASuF,aAPkB,2CAA3B,uDAUzBa,EAAwB,uCAAG,WAAOnH,EAASxB,EAAOwI,EAAWI,GAAlC,SAAAzF,EAAA,6DAC9B3B,EAAS8G,GAA0B,EAAMtI,IADX,SAETwI,EAAWxI,GAFF,OAGG,IAHH,OAGjBuD,KAAKD,YACjB9B,EAASoH,EAAmB5I,IAE7BwB,EAAS8G,GAA0B,EAAOtI,IANZ,2CAAH,4DASf6I,EAAc,SAAC7I,GAAD,8CAAY,WAAOwB,GAAP,SAAA2B,EAAA,sEAChCwF,EAAyBnH,EAAUxB,EAAQyG,IAAQM,2BAA2B0B,KAAKhC,KAAW0B,GAD9D,2CAAZ,uDAIdW,EAAgB,SAAC9I,GAAD,8CAAY,WAAOwB,GAAP,SAAA2B,EAAA,sEAClCwF,EAAyBnH,EAAUxB,EAAQyG,IAAQO,+BAA+ByB,KAAKhC,KAAU2B,GAD/D,2CAAZ,uDAId9J,IAjFI,WAAmC,IAAlC9B,EAAiC,uDAAzBgB,EAAcG,EAAW,uCACpD,OAAQA,EAAOC,MACd,IArBgB,YAsBf,OAAO,2BAAIpB,GAAX,IAAkBqL,MAAOlK,EAAOkK,QACjC,IAtBa,SAuBZ,OAAO,2BACHrL,GADJ,IACWqL,MAAOrL,EAAMqL,MAAMkB,KAAI,SAAC5C,GACjC,OAAIA,EAAG3C,KAAO7F,EAAOqC,OACb,2BAAImG,GAAX,IAAe6C,UAAU,IAEnB7C,OAGV,IA9BgB,YA+Bf,OAAO,2BACH3J,GADJ,IACWqL,MAAOrL,EAAMqL,MAAMkB,KAAI,SAAC5C,GACjC,OAAIA,EAAG3C,KAAO7F,EAAOqC,OACb,2BAAImG,GAAX,IAAe6C,UAAU,IAEnB7C,OAGV,IAtC0B,sBAuCzB,OAAO,2BAAI3J,GAAX,IAAkBmK,YAAahJ,EAAOgJ,cACvC,IAvC4B,wBAwC3B,OAAO,2BAAInK,GAAX,IAAkBsL,WAAYnK,EAAOmK,aACtC,IAxCyB,qBAyCxB,OAAO,2BAAItL,GAAX,IAAkB0D,WAAYvC,EAAOuC,aACtC,IAzCmC,+BA0ClC,OAAO,2BACH1D,GADJ,IAECwL,oBAAqBrK,EAAOqK,oBAAP,sBACdxL,EAAMwL,qBADQ,CACarK,EAAOqC,SACtCxD,EAAMwL,oBAAoB9B,QAAO,SAAA1C,GAAE,OAAIA,IAAO7F,EAAOqC,YAE1D,QACC,OAAOxD,K,mBCxDVpB,EAAOC,QAAU,CAAC,SAAW,uC","file":"static/js/main.3b60fc56.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.33fc8688.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__8Ao-W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = (props) => {\r\n\treturn (\r\n\t\t<nav className='collection' style={{height: \"auto\"}} >\r\n\t\t\t<NavLink to=\"/profile\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tProfile\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/messages\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tMessages\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/news\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tNews\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/music\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tMusic\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/settings\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tSettings\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t\t<NavLink to=\"/users\" className='collection-item'>\r\n\t\t\t\t<div className={s.item}>\r\n\t\t\t\t\tUsers\r\n\t\t\t\t</div>\r\n\t\t\t</NavLink>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar;","import {authThunk} from \"./Auth_reducer\";\n\nconst INITIALIZE = 'INITIALIZE';\n\nlet initialState = {\n\tinitialized: false,\n};\n\nlet appReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase INITIALIZE:\n\t\t\treturn {\n\t\t\t...state,\n\t\t\t\tinitialized: true,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n};\n\nconst initialized = () => ({type: INITIALIZE})\n\nexport const initializedThunk = () => (dispatch) => {\n\tlet promise = dispatch(authThunk())\n\n\tPromise.all([promise]).then(() => {dispatch(initialized())})\n}\n\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\nimport messagesReducer from \"../Reducers/Messages_reducer\";\nimport profileReducer from \"../Reducers/Profile_reducer\";\nimport newsReducer from \"../Reducers/News_reducer\";\nimport usersReducer from \"../Reducers/Users_reducer\";\nimport authReducer from \"../Reducers/Auth_reducer\";\nimport thunkMiddleWare  from \"redux-thunk\";\nimport {reducer as formReducer} from \"redux-form\"\nimport appReducer from \"../Reducers/App_reducer\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\n\n\nlet reducersPack = combineReducers({\n\tpostData: profileReducer,\n\tmessagesData: messagesReducer,\n\tnewsData: newsReducer,\n\tusersData: usersReducer,\n\tauthData: authReducer,\n\tappData: appReducer,\n\tform: formReducer,\n});\n\n\nlet store = createStore(reducersPack, composeWithDevTools(applyMiddleware(thunkMiddleWare)));\n\nexport default store;\n\n","import React from \"react\";\nimport s from \"./SuspenseComponent.module.css\"\n\nexport const SuspenseComponent = () => {\n\treturn (\n\t\t<div className='col s9'>\n\t\t\t<div className={s.suspense}>\n\t\t\t\tLoading...\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<nav>\r\n\t\t\t\t{props.isAuth\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<div className=\"row\" style={{background:\"#26a69a\"}}>\r\n\t\t\t\t\t\t<div className='col s6'>\r\n\t\t\t\t\t\t\t<NavLink to=\"/profile\" className=\"breadcrumb\"> {props.login} </NavLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col s6'>\r\n\t\t\t\t\t\t\t<button className='btn logout' style={{marginLeft: '80%'}} onClick={props.logoutThunk}><i\r\n\t\t\t\t\t\t\t\tclassName=\"material-icons\" style={{lineHeight: '40px'}}> exit_to_app </i></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<div className=\"col s12\" style={{background:\"#26a69a\"}}>\r\n\t\t\t\t\t\t<NavLink className=\"breadcrumb\" to={'/login'} style={{marginLeft: '95%'}}>\r\n\t\t\t\t\t\t\t<button className='btn'><i className=\"material-icons\" style={{lineHeight: '40px'}}> input </i></button>\r\n\t\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t</div>}\r\n\t\t\t</nav>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\nimport Header from \"./Header\";\nimport { logoutThunk, setUserData} from \"../../redux/Reducers/Auth_reducer\";\nimport {connect} from \"react-redux\";\n\n\nclass HeaderContainer extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\t// componentDidMount() {\n\t// \tthis.props.authThunk()\n\t// }\n\n\trender() {\n\t\treturn (\n\t\t\t<Header {...this.props}   />\n\t\t)\n\t}\n}\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tuserId: state.authData.userId,\n\t\temail: state.authData.email,\n\t\tlogin: state.authData.login,\n\t\tisFetching: state.authData.isFetching,\n\t\tisAuth: state.authData.isAuth,\n\t}\n}\n\nexport default connect(mapStateToProps, {setUserData, logoutThunk})(HeaderContainer)","import React, {Suspense} from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializedThunk} from \"./redux/Reducers/App_reducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport 'materialize-css';\nimport store from \"./redux/redux_store/redux_store\";\nimport {SuspenseComponent} from \"./components/Common/SuspenseComponent/SuspenseComponent\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'))\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'))\nconst NewsContainer = React.lazy(() => import('./components/News/NewsContainer'))\nconst MusicContainer = React.lazy(() => import('./components/Music/MusicContainer'))\nconst SettingsContainer = React.lazy(() => import('./components/Settings/SettingsContainer'))\nconst Login = React.lazy(() => import('./components/Login/Login'))\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializedThunk()\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader/>\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col s12'>\n\t\t\t\t\t\t<HeaderContainer/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col s2' style={{textAlign: 'center',position: 'static', top: '30%'}}>\n\t\t\t\t\t\t<Navbar/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='col s10'>\n\t\t\t\t\t\t<Suspense fallback={<SuspenseComponent/>}>\n\t\t\t\t\t\t\t<Route path=\"/profile/:userId?\" render={() => <ProfileContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/messages\" render={() => <MessagesContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/news\" render={() => <NewsContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/music\" render={() => <MusicContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/settings\" render={() => <SettingsContainer/>}/>\n\t\t\t\t\t\t\t<Route path=\"/login\" render={() => <Login/>}/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.appData.initialized,\n\tisAuth: state.authData.isAuth,\n})\n\nexport let AppContainer = compose(withRouter, connect(mapStateToProps, {initializedThunk}))(App)\n\nlet MainApp = (props) => {\n\treturn (\n\t\t<HashRouter>\n\t\t\t<Provider store={store}>\n\t\t\t\t<AppContainer/>\n\t\t\t</Provider>\n\t\t</HashRouter>\n\t)\n}\nwindow.store = store\n\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport 'materialize-css/dist/css/materialize.css'\nimport MainApp from \"./App\";\n\n\n\tReactDOM.render(<MainApp/>, document.getElementById('root'));\n\nserviceWorker.register();\n","import {authAPI, userAPI} from \"../../API/API\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'SET_USER_DATA';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\n\nlet initialState = {\n\n\temail: null,\n\tuserId: null,\n\tlogin: null,\n\tpassword: null,\n\tisAuth: false,\n\tisFetching: false,\n};\n\nlet authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_USER_DATA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payLoad,\n\t\t\t}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n};\n\n\nexport const setUserData = (userId, email, login, isAuth) => ({\n\ttype: SET_USER_DATA,\n\tpayLoad: {email: email, userId: userId, login: login, isAuth: isAuth,}\n});\n\nexport const authThunk = () => async (dispatch) => {\n\tlet response = await authAPI.usersAuthFromServer()\n\tif (response.resultCode === 0) {\n\t\tlet {id, email, login} = response.data;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// !!! осторожно с порядком присваивания, оно должно совпадать с порядком что присутствует на сервере\n\t\tdispatch(setUserData(id, email, login, true));\n\t}\n};\n\nexport const loginThunk = (email, password, rememberMe) => async (dispatch) => {\n\tlet response = await authAPI.loginFromServer(email, password, rememberMe = false)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(authThunk())\n\t} else {\n\t\tlet message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\t\t\t// при невыполнении 'resultCode' должны высветить сообщения об ошибке, (текс сообщения об ошибке берем из сервера (messages))\n\t\tdispatch(stopSubmit('login', {_error: message}))  \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  // ! Важная строка для понимания работы возврата функции 'dispatch'. formSubmit берем из библиотеки 'redux-form'\n\t}\n}\n\nexport const logoutThunk = () => async (dispatch) => {\n\tlet response = await authAPI.logoutFromServer()\n\tif (response.resultCode === 0) {\n\t\tdispatch(setUserData(null, null, null, false));\n\t}\n}\n\n\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\"};","import {profileAPI} from \"../../API/API\";\nimport {reset, stopSubmit} from 'redux-form';\n\nconst CHANGE_PHOTO = 'CHANGE_PHOTO';\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst SET_USER_STATUS = 'SET_USER_STATUS';\nconst DELETE_POST = 'DELETE_POST';\n\nlet initialState = {\n\tposts: [\n\t\t{id: 0, message: 'Hi, how are you', likeCount: 2, photo: null},\n\t\t{id: 1, message: 'I am fine thanks', likeCount: 2, photo: null},\n\t\t{id: 2, message: 'It is greate', likeCount: 2, photo: null}\n\t],\n\tprofile: null,\n\tstatus: null,\n\tisFetching: false,\n};\nconst profileReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [...state.posts, {id: 4, message: action.post, likeCount: 1, photo: state.profile.photos.small}],\n\t\t\t\tcurrentText: null,\n\t\t\t}\n\t\tcase SET_USER_PROFILE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile\n\t\t\t}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tcase SET_USER_STATUS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: action.status,\n\t\t\t}\n\t\tcase DELETE_POST:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: state.posts.filter(el => el.id !== action.postId)\n\t\t\t}\n\t\tcase CHANGE_PHOTO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: {...state.profile, photos: action.image}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const setUserProfile = (profileId) => ({type: SET_USER_PROFILE, profile: profileId});\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status: status})\nexport const addPost = (post) => ({type: ADD_POST, post});\nexport const deletePost = (id) => ({type: DELETE_POST, postId: id})\nexport const toggleIsFetchingLoad = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\nexport const resetForm = (myPost) => (reset(myPost));\nexport const updateImage = (photo) => ({type: CHANGE_PHOTO, image: photo})\n\n\nexport const profileServerThunk = (userId) => async (dispatch) => {\n\tdispatch(toggleIsFetchingLoad(true));\n\tlet response = await profileAPI.profileFromServer(userId)\n\tdispatch(toggleIsFetchingLoad(false));\n\tdispatch(setUserProfile(response.data))\n}\n\nexport const setUserStatusThunk = (userId) => async (dispatch) => {\n\tlet response = await profileAPI.getStatus(userId)\n\tdispatch(setUserStatus(response.data));\n}\nexport const updateUserStatusThunk = (status) => async (dispatch) => {\n\tlet response = await profileAPI.updateStatus(status)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(setUserStatus(status));\n\t}\n}\n\nexport const changeImageThunk = (file) => async (dispatch) => {\n\tlet response = await profileAPI.changeImageFromServer(file)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(updateImage(response.data.data.photos));\n\t}\n}\nexport const saveProfileInformationThunk = (formData) => async (dispatch, getState) => {\n\tconst userId = getState().authData.userId\n\tconst response = await profileAPI.changeProfileInformationFromServer(formData);\n\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(profileServerThunk(userId))\n\t} else {\n\t\tdispatch(stopSubmit('profileInfo', {_error: response.data.messages[0]}))\n\t\treturn Promise.reject( response.data.messages[0]);\n\t}\n}\nexport default profileReducer;","import React from \"react\";\nimport loading from \"../../../img/loading.svg\";\nimport s from \"./Preloader.module.css\";\n\nconst Preloader = (props) => {\n\treturn (\n\t\t<div className=\"progress\">\n\t\t\t<div className=\"indeterminate\"></div>\n\t\t</div>\n\t)\n}\n\nexport default Preloader;","import * as axios from \"axios\";\n\n\nconst instance = axios.create({\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\twithCredentials: true,\n\theaders: {\n\t\t'API-KEY': 'dc838a0b-8b61-4e52-ba17-49724b1f4071',\n\t},\n});\n\nexport const userAPI = {\n\tgetUsers(currentPage, pageSize) {\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t},\n\tusersFromServer(userId) {\n\t\tconsole.warn('Obsolete method. Please use profileAPI object')\n\t\treturn profileAPI.profileFromServer(userId);\n\t},\n\tbuttonFollowPostFromServer(userId) {\n\t\treturn instance.post(`follow/${userId}`)\n\t},\n\tbuttonUnFollowDeleteFromServer(userId) {\n\t\treturn instance.delete(`follow/${userId}`)\n\t}\n}\n\nexport const profileAPI = {\n\tprofileFromServer(userId) {\n\t\treturn instance.get(`profile/${userId}`)\n\t},\n\tgetStatus(userId) {\n\t\treturn instance.get(`profile/status/${userId}`)\n\t},\n\tupdateStatus(status) {\n\t\treturn instance.put('profile/status', {status: status})\n\t},\n\tchangeImageFromServer(file) {\n\t\tlet formData = new FormData();\n\t\tformData.append(\"image\", file)\n\t\treturn instance.put('profile/photo', formData, {headers: {'Content-Type': 'multipart/form-data'}})\n\t},\n\tchangeProfileInformationFromServer(formData) {\n\t\treturn instance.put('profile', formData)\n\t}\n}\n\nexport const authAPI = {\n\tusersAuthFromServer() {\n\t\treturn instance.get(`auth/me`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t},\n\tloginFromServer(email,password,rememberMe) {\n\t\treturn instance.post(`auth/login`, {email, password, rememberMe})\n\t},\n\tlogoutFromServer() {\n\t\treturn instance.delete(`auth/login`).then(response => {\n\t\t\treturn response.data;\n\t\t})\n\t}\n}\n","/* eslint-disable import/first */\nconst ADD_MESSAGES = 'ADD_MESSAGES';\nimport {reset} from 'redux-form';\n\nlet initialState = {\n\tcompanionsData: [\n\t\t{id: 1, name: \"Sergey\"},\n\t\t{id: 2, name: \"Andrey\"},\n\t\t{id: 3, name: \"Askar\"},\n\t\t{id: 4, name: \"Muslim\"},\n\t\t{id: 5, name: \"Petr\"},\n\t],\n\tdialogsData: [],\n};\n\nconst messagesReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_MESSAGES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdialogsData: [...state.dialogsData, {id: 5, message: action.message,}],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const addMessages = (message) => ({type: ADD_MESSAGES, message});\nexport const resetAddMessages = (message) => (reset(message))\nexport default messagesReducer;\n","const ADD_NEWS = \"ADD_NEWS\";\n// const TEXTAREA_CHANGES_NEWSPOSTS = \"TEXTAREA_CHANGES_NEWSPOSTS\";\n\nlet initialState = {\n\tnewsPosts: [{id: 2, newsPost: \"\"}],\n\t// currentNewsData:'',\n};\n\nconst newsReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_NEWS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnewsPosts: [...state.newsPosts, {id: 3, newsPost: action.newsPosts}],\n\t\t\t\t// currentNewsData: '',\n\t\t\t}\n\t\t// case TEXTAREA_CHANGES_NEWSPOSTS:\n\t\t// \treturn {\n\t\t// \t\t...state,\n\t\t// \t\tcurrentNewsData: action.text,\n\t\t// \t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const addNews = (newsPosts) => ({type: ADD_NEWS, newsPosts});\n// export const textareaChangesNewsPost = (text) => ({type: TEXTAREA_CHANGES_NEWSPOSTS, text: text});\n\nexport default newsReducer;","import {userAPI} from \"../../API/API\";\n\nconst SET_USERS = \"SET_USERS\";\nconst FOLLOW = \"FOLLOW\";\nconst UN_FOLLOW = 'UN_FOLLOW';\nconst CHANGE_CURRENT_PAGE = 'CHANGE_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nlet initialState = {\n\tusers: [],\n\tpageSize: 10,\n\ttotalCount: null,\n\tpageNeighbours: 5,\n\tcurrentPage: 1,\n\tisFetching: false,\n\tisFollowingProgress: [],\n}\n\nlet usersReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase SET_USERS:\n\t\t\treturn {...state, users: action.users,}\n\t\tcase FOLLOW:\n\t\t\treturn {\n\t\t\t\t...state, users: state.users.map((el) => {\n\t\t\t\t\tif (el.id === action.userId) {\n\t\t\t\t\t\treturn {...el, followed: true}\n\t\t\t\t\t}\n\t\t\t\t\treturn el\n\t\t\t\t})\n\t\t\t}\n\t\tcase UN_FOLLOW:\n\t\t\treturn {\n\t\t\t\t...state, users: state.users.map((el) => {\n\t\t\t\t\tif (el.id === action.userId) {\n\t\t\t\t\t\treturn {...el, followed: false}\n\t\t\t\t\t}\n\t\t\t\t\treturn el\n\t\t\t\t})\n\t\t\t}\n\t\tcase CHANGE_CURRENT_PAGE:\n\t\t\treturn {...state, currentPage: action.currentPage,}\n\t\tcase SET_TOTAL_USERS_COUNT:\n\t\t\treturn {...state, totalCount: action.totalCount,}\n\t\tcase TOGGLE_IS_FETCHING:\n\t\t\treturn {...state, isFetching: action.isFetching,}\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFollowingProgress: action.isFollowingProgress\n\t\t\t\t\t? [...state.isFollowingProgress, action.userId]\n\t\t\t\t\t: state.isFollowingProgress.filter(id => id !== action.userId)\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\n\nexport const changeCurrentPage = (page) => ({type: CHANGE_CURRENT_PAGE, currentPage: page})\t// call-back функция, которая возвращает объект, в параметрах которого мы обозначаем те данные которые мы хотим изменить и передать в свойства значения.\nexport const setUsers = (users) => ({type: SET_USERS, users: users});\nexport const Follow = (userId) => ({type: FOLLOW, userId: userId});\nexport const unFollow = (userId) => ({type: UN_FOLLOW, userId: userId});\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount: totalCount});\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching: isFetching});\nexport const toggleIsFollowingProgress = (isFollowingProgress, userId) => ({\n\ttype: TOGGLE_IS_FOLLOWING_PROGRESS,\n\tisFollowingProgress: isFollowingProgress,\n\tuserId: userId\n})\n\n\nexport const getUsersThunk = (currentPage, pageSize) => async (dispatch) => {\n\tlet apiMethods = userAPI.getUsers.bind(userAPI)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// можно и без bind, но для предотвращения возникновения ошибок привязываем наш 'action' к данному запросу из сервера\n\tdispatch(toggleIsFetching(true))\n\tdispatch(changeCurrentPage(currentPage))\n\tlet response = await apiMethods(currentPage, pageSize)\n\tdispatch(toggleIsFetching(false))\n\tdispatch(setUsers(response.items))\n\tdispatch(setTotalUsersCount(response.totalCount))\n}\n\nlet similarToggleThunkFollow = async (dispatch,userId,apiMethods,actionToggleFollow) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// рефакторинг следующих двух thunks\n\tdispatch(toggleIsFollowingProgress(true, userId));\n\tlet response = await apiMethods(userId)\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(actionToggleFollow(userId));\n\t}\n\tdispatch(toggleIsFollowingProgress(false, userId));\n}\n\nexport const followThunk = (userId) => async (dispatch) => {\n\tawait similarToggleThunkFollow(dispatch, userId, userAPI.buttonFollowPostFromServer.bind(userAPI)\t, Follow)\t\t\t\t\t\t// можно и без bind, но для предотвращения возникновения ошибок привязываем наш 'action' к данному запросу из сервера\n}\n\nexport const unFollowThunk = (userId) => async (dispatch) => {\n\tawait similarToggleThunkFollow(dispatch, userId, userAPI.buttonUnFollowDeleteFromServer.bind(userAPI), unFollow)\n}\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suspense\":\"SuspenseComponent_suspense__2XO5Z\"};"],"sourceRoot":""}